// Flags: --allow-natives-syntax --expose-gc
function gc() {
  for (let i = 0; i < 1000; i++) {
      new ArrayBuffer(0x100000);
  }
}

var x;
let a;
class A { }
class B extends A {
    constructor() {
        x = new.target;
        super();
        gc();
        // a = [1.1];
    }
}

% PrepareFunctionForOptimization(B);
new B();
% OptimizeMaglevOnNextCall(B);
let b = new B();
% DebugPrint(b);